(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))l(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const s of t.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&l(s)}).observe(document,{childList:!0,subtree:!0});function d(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function l(e){if(e.ep)return;e.ep=!0;const t=d(e);fetch(e.href,t)}})();document.addEventListener("DOMContentLoaded",function(){[nameField,emailField,passField,pinInput].forEach(r=>r.addEventListener("input",validateAll)),validateAll()});document.addEventListener("DOMContentLoaded",function(){const r=document.getElementById("pinInput"),i=document.getElementById("startBtn"),d=document.getElementById("pin-error"),l=document.getElementById("studentName"),e=document.getElementById("studentEmail"),t=document.getElementById("studentPassport"),s=document.getElementById("welcome-form");[l,e,t,r].forEach(n=>n.addEventListener("input",a));function a(){const n=l.value&&e.value&&t.value,o=c(r.value.trim());console.log("filled:",n,"pinOk:",o),i.disabled=!(n&&o),d.style.display=r.value&&!o?"block":"none"}function c(n){const o=JSON.parse(localStorage.getItem("examPin")||"null");return o&&n===o.pin&&Date.now()<o.expires}s.addEventListener("submit",n=>{n.preventDefault(),!i.disabled&&(localStorage.setItem("currentStudent",JSON.stringify({name:l.value.trim(),email:e.value.trim(),passport:t.value.trim()})),window.location.href="exam.html")})});
